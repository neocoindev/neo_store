{% extends 'partials/base.html' %} {% load static %} {% load humanize %} {% load currency_tags %} {% block content %}
    <!-- <section class="p-0 pb-5 mb-5">
        <div class="container">

            <div class="row d-flex justify-content-center align-items-center">
                <div class="col-12 col-lg-7 p-4 rounded-3 bg-white">
                    <p class="text-secondary fs-4 mb-0 mt-5 mb-3">20% скидка только сегодня! <img
                            src="https://cdn-icons-png.flaticon.com/128/9004/9004955.png" width="30" alt=""></p>
                    <h1 class="display-4 fw-bold">Лучшие товары. <span class="text-success"> <br> Лучшие цены. <br><span
                            class="text-dark">Быстрая доставка</span></span></h1>
                    <p class="text-secondary fs-6 mt-4">Безопасность во всём.<br>
                        Поддержка 24/7.<br>
                        Реферальная программа.<br>
                        Поддержка популярных фиатных валют ($, €, ¥) и криптовалют (NEO, USDT, SOL)</p>
                    <form method="GET" action="{% url 'store:shop' %}" class="d-flex align-items-center gap-2 mt-5">
                        <div class="d-flex align-items-center border  rounded-3 bg-light  w-75">
                            <input type="text" class="form-control shadow-none border-0 bg-transparent"
                                   placeholder="Поиск товара" name="q" id="search-input" required/>
                        </div>
                        <button type="submit" class="btn bg-primary  text-white rounded "> <i
                                class="fas fa-search text-white"></i></button>
                    </form>
                    <div class="d-flex justify-content-start gap-4 align-items-center mt-3">
                        <p class="text-secondary">Бесплатная доставка только сегодня! Применяются <b>Условия
                            использования</b></p>
                    </div>
                    <div class="d-flex align-items-center justify-content-start gap-5 fs-5 text-secondary mt-2">
                        <i class="fab text-success fa-telegram"></i>
                        <i class="fab fa-whatsapp"></i>
                        <i class="fab text-success fa-instagram"></i>
                        <i class="fab text-success fa-facebook"></i>
                    </div>
                </div>
                <div class="col-12 col-lg-5">
                    <img class="img-fluid rounded-3 w-100" style="height: 500px; width: 100%; object-fit: contain"
                         src="{% static 'assets/img/home-hero.jpg' %}" alt=""/>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Promotional Banner Section -->
    <!-- <section class="promo-banner-section mt-5 mb-5">
        Top Horizontal Strip - Full Width -->
        <!-- <div class="promo-top-strip-wrapper">
            <div class="container-fluid px-4">
                <div class="promo-top-strip p-4 text-white d-flex justify-content-between align-items-center flex-wrap">
                    <div class="d-flex align-items-center gap-3">
                        <div class="promo-icons">
                            <i class="fas fa-box fs-2 me-2"></i>
                            <i class="fas fa-sunglasses fs-2"></i>
                        </div>
                        <div>
                            <p class="mb-0 fw-bold fs-5">Товары с местного склада Кыргызстана</p>
                        </div>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <div class="promo-bubble bg-white text-dark rounded-pill px-4 py-2">
                            <p class="mb-0 fw-bold">Быстрее и выгоднее</p>
                        </div>
                        <i class="fas fa-shoe-prints fs-2"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Three Column Banner - Full Width with Container -->
        <!-- <div class="container-fluid px-4 mt-4">
            <div class="row g-4">
                <!-- Left Card - Fashion/Style -->
                <!-- <div class="col-lg-4 col-md-6">
                    <div class="promo-card promo-card-green rounded-4 p-4 position-relative overflow-hidden h-100">
                        <div class="promo-pattern"></div>
                        <h3 class="text-dark fw-bold mb-3">Стильные вещи</h3>
                        <div class="promo-product-image position-absolute bottom-0 end-0">
                            <i class="fas fa-tshirt" style="font-size: 120px; opacity: 0.3; color: #4caf50;"></i>
                        </div>
                        <a href="{% url 'store:shop' %}?category=women" class="btn btn-light mt-3 rounded-pill">
                            Смотреть коллекцию <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>
                </div> --> -->

                <!-- Middle Card - New Year Sale -->
                <!-- <div class="col-lg-4 col-md-6">
                    <div class="promo-card promo-card-dark rounded-4 p-4 position-relative overflow-hidden h-100">
                        <div class="promo-scene position-absolute end-0 bottom-0" style="opacity: 0.2;">
                            <i class="fas fa-tree" style="font-size: 150px; color: #1cee5b;"></i>
                        </div>
                        <h2 class="text-white fw-bold mb-2">НОВОГОДНИЙ</h2>
                        <h2 class="text-white fw-bold mb-3">декор со скидками</h2>
                        <div class="promo-discount mb-3">
                            <span class="text-white" style="font-size: 3rem; font-weight: 900;">до 90%</span>
                        </div>
                        <p class="text-white-50 small mb-3">С 19.11.2024 ПО 31.12.2025</p>
                        <a href="{% url 'store:shop' %}?q=новогодний" class="btn bg-primary text-white rounded-pill">
                            Купить сейчас <i class="fas fa-shopping-cart ms-2"></i>
                        </a>
                    </div>
                </div> -->

                <!-- Right Card - New Year Look -->
                <!-- <div class="col-lg-4 col-md-6">
                    <div class="promo-card promo-card-purple rounded-4 p-4 position-relative overflow-hidden h-100">
                        <div class="promo-circles"></div>
                        <div class="promo-product-image position-absolute bottom-0 start-0">
                            <i class="fas fa-tshirt" style="font-size: 140px; opacity: 0.3; color: #1cee5b; transform: rotate(-15deg);"></i>
                        </div>
                        <h3 class="text-white fw-bold mb-3 position-relative" style="z-index: 2;">НОВОГОДНИЙ</h3>
                        <h3 class="text-white fw-bold mb-4 position-relative" style="z-index: 2;">образ</h3>
                        <a href="{% url 'store:shop' %}?category=women" class="btn btn-light mt-3 rounded-pill position-relative" style="z-index: 2;">
                            Выбрать наряд <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div> -->
    <!-- </section> --> -->

    <style>
        /* Promotional Banner Styles */
        .promo-banner-section {
            padding: 0;
            margin: 2rem 0;
        }

        /* Top Strip - Full Width */
        .promo-top-strip-wrapper {
            width: 100%;
            background: linear-gradient(135deg, #FF0000 0%, #ff6b35 100%);
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
        }

        .promo-top-strip {
            max-width: 1400px;
            margin: 0 auto;
        }

        .promo-bubble {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* Promo Cards */
        .promo-card {
            min-height: 350px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .promo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }

        /* Left Card - Green */
        .promo-card-green {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            background-image: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(76, 175, 80, 0.05) 10px, rgba(76, 175, 80, 0.05) 20px);
        }

        /* Middle Card - Dark with New Year Theme */
        .promo-card-dark {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d2d2d 100%);
            color: white;
        }

        .promo-discount {
            background: linear-gradient(135deg, #FF0000 0%, #ff6b35 100%);
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.4);
        }

        /* Right Card - Purple Gradient */
        .promo-card-purple {
            background: linear-gradient(135deg, #9c27b0 0%, #673ab7 50%, #3f51b5 100%);
            color: white;
        }

        .promo-circles::before,
        .promo-circles::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .promo-circles::before {
            width: 100px;
            height: 100px;
            top: 20px;
            right: 20px;
        }

        .promo-circles::after {
            width: 60px;
            height: 60px;
            top: 60px;
            right: 60px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .promo-card {
                min-height: 280px;
            }
            
            .promo-top-strip {
                text-align: center;
            }
            
            .promo-top-strip > div {
                width: 100%;
                justify-content: center !important;
                margin-bottom: 1rem;
            }

            .container-fluid.px-4 {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
        }
    </style>

    {% comment %}
    <section class="middle mt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="sec_title position-relative text-center">
                        <h1 class="ft-bold pt-3">Популярные категории <img
                                src="https://cdn-icons-png.flaticon.com/128/7183/7183999.png" width="40" alt=""></h1>
                    </div>
                </div>
            </div>

            <div class="row align-items-center justify-content-center">

                {% for c in categories %}
                    <div class="col-xl-2 col-lg-2 col-md-3 col-sm-6 col-4">
                        <div class="cats_side_wrap text-center mx-auto mb-3">
                            <div class="sl_cat_01">
                                <div class="d-inline-flex align-items-center justify-content-center p-4 circle mb-2 border">
                                    <a href="{% url 'store:category' c.id %}" class="d-block">

                                        {% if c.image %}
                                            <img src="{{ c.image.url }}" class="img-fluid" width="80" alt=""/>
                                        {% else %}
                                            <img src="{% static 'assets/img/headphones.png' %}" class="img-fluid"
                                                 width="40" alt=""/>
                                        {% endif %}

                                    </a>
                                </div>
                            </div>
                            <div class="sl_cat_02">
                                <h6 class="m-0 ft-medium fs-sm"><a
                                        href="{% url 'store:category' c.id %}">{{ c.title }}</a></h6>
                            </div>
                        </div>
                    </div>
                {% endfor %}


            </div>
        </div>
    </section>
    {% endcomment %}

    <section class="middle mt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="sec_title position-relative text-center">
                        <h1 class="ft-bold pt-3">Популярные товары <img
                                src="https://cdn-icons-png.flaticon.com/128/785/785116.png" width="40" alt=""></h1>
                    </div>
                </div>
            </div>

            <div class="row align-items-center rows-products">
                {% for p in products %}
                    <div class="col-lg-3 mb-3">
                        <div class="product_grid card b-0  rounded-3 shadow m-2 p-2">
                            <div class="card-body p-0">
                                <div class="shop_thumb position-relative">
                                    <a class="card-img-top d-block overflow-hidden"
                                       href="{% url 'store:product_detail' p.slug %}"><img class="card-img-top"
                                                                                           style="width: 100%; height: 230px; object-fit: cover;"
                                                                                           src="{% if p.image %}{{ p.image.url }}{% else %}/static/images/default-product.jpg{% endif %}"
                                                                                           alt="..."/></a>
                                </div>
                            </div>
                            <div class="card-footer b-0 p-0 pt-2 bg-white d-flex align-items-start justify-content-between">
                                <div class="text-left">
                                    <div class="text-left">
                                        <div class="elso_titl"><span class="small"><a
                                                href="{% url 'store:category' p.category.id %}">{{ p.category.title }}</a></span>
                                        </div>
                                        <h5 class="fs-md mb-0 lh-1 mb-1"><a
                                                href="{% url 'store:product_detail' p.slug %}">{{ p.name }}</a></h5>
                                        <div class="star-rating align-items-center d-flex justify-content-left mb-2 p-0 mt-3">
                                            {% if not p.average_rating %}
                                                <i class="fas fa-star text-warning"></i>
                                            {% elif p.average_rating > 0 and p.average_rating < 2 %}
                                                <i class="fas fa-star text-warning"></i>
                                            {% elif p.average_rating > 1 and p.average_rating < 3 %}
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            {% elif p.average_rating > 2 and p.average_rating < 4 %}
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            {% elif p.average_rating > 3 and p.average_rating < 5 %}
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            {% elif p.average_rating > 4 %}
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                                <i class="fas fa-star text-warning"></i>
                                            {% endif %}
                                        </div>
                                        {% load currency_tags %}
                                        <div class="elis_rty"><span
                                                class="ft-bold text-dark fs-sm">{% format_currency p.price %}</span></div>
                                    </div>
                                    <div class="d-flex align-items-center gap-3">
                                        <button type="button"
                                                class="btn btn-sm bg-primary text-white rounded add_to_cart"
                                                data-id="{{ p.id }}">В корзину <i class="fas fa-shopping-cart ms-2"></i>
                                        </button>
                                        <input type="hidden" class="quantity" value="1" name="" id="">
                                        <a href="#" class="add_to_wishlist" data-product_id="{{ p.id }}"><i
                                                class="fas fa-heart fs-4 text-black"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <div class="row justify-content-center">
                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                    <div class="position-relative text-center">
                        <a href="{% url 'store:shop' %}" class="btn bg-dark text-light rounded btn-sm mt-5">Перейти в
                            магазин <i class="fas fa-arrow-right ms-2"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock content %}
